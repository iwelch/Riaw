% Generated by tools/generate-man.R -- do not edit by hand
\name{winsorize.percentile}
\alias{winsorize.percentile}
\title{Winsorize at Percentile Thresholds}
\description{
Clips values at specified percentiles.
}
\usage{
winsorize.percentile(x, xperc = c(0.01, 0.99), verbose = FALSE, name = "")
}
\arguments{
  \item{x}{Numeric vector.}
  \item{xperc}{vector of Lower percentile (0-1). Default 0.01, upper percentile}
  \item{verbose}{Print summary.}
  \item{name}{Variable name for output. }
}
\value{
Numeric vector. 
}
\seealso{

Other data-transformation: \code{\link{normalize}}, \code{\link{standardize}}, \code{\link{winsorize.level}}
}
\examples{
\dontrun{
# Default: clip at 1st and 99th percentile; the two outliers are pulled in
set.seed(1)
x <- c(rnorm(98), -100, 100)
range(x)
range(iaw$winsorize.percentile(x))

# Tighter winsorization at 5th/95th percentile
iaw$winsorize.percentile(x, xperc = c(0.05, 0.95))

# verbose = TRUE reports the actual cutoff values used
iaw$winsorize.percentile(x, verbose = TRUE, name = "returns")

# NA values pass through unchanged
iaw$winsorize.percentile(c(NA, 1:10, NA))

# Winsorize cross-sectional asset returns at 2.5\%/97.5\%
set.seed(42)
asset_returns <- rnorm(1000, mean = 0.005, sd = 0.03)
cleaned <- iaw$winsorize.percentile(asset_returns, c(0.025, 0.975))
range(cleaned)   # tails trimmed

# Symmetric 5th/95th clip for robust regression inputs
x <- c(rnorm(98), -50, 50)
w <- iaw$winsorize.percentile(x, c(0.05, 0.95))
max(abs(w)) < 50   # TRUE, outliers capped

# Median is unaffected by winsorization
set.seed(1); v <- rnorm(200)
median(v) == median(iaw$winsorize.percentile(v))   # TRUE (or very close)
}
}
