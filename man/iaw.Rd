% Hand-written -- not generated by tools/generate-man.R
\name{iaw}
\alias{iaw}
\alias{iaw-package}
\docType{package}
\title{iaw: Ivo's Analytical Workbench}

\description{
A collection of ~145 utility functions for data manipulation, regression
analysis, plotting, and parallel computing.  All functions live in the
\code{iaw} environment and are called as \code{iaw$func()}, e.g.\
\code{iaw$olm(y ~ x, data = d)}.

Three infix operators are available directly: \code{\%and\%},
\code{\%or\%}, and \code{\%inrange\%}.
}

\section{Regression}{
\tabular{ll}{
  \code{\link{olm}}         \tab OLS with enhanced output (Newey-West, std coefs, ANOVA) \cr
  \code{\link{print.olm}}   \tab S3 print method for olm objects \cr
  \code{\link{famamacbeth}} \tab Fama-MacBeth two-pass regression \cr
  \code{\link{neweywest}}   \tab Newey-West heteroskedasticity-consistent SEs \cr
  \code{\link{ooslm}}       \tab Out-of-sample (recursive) regression \cr
  \code{\link{residuals}}   \tab Extract residuals (reminds about na.exclude)
}
}

\section{Statistics}{
\tabular{ll}{
  \code{\link{summary}}       \tab Descriptive statistics with NA counts \cr
  \code{\link{cmpsum}}        \tab Compound (geometric) sum of returns \cr
  \code{\link{covp}}          \tab Population covariance (divides by n) \cr
  \code{\link{varp}}          \tab Population variance (divides by n) \cr
  \code{\link{sdp}}           \tab Population standard deviation \cr
  \code{\link{sst}}           \tab Total sum of squares \cr
  \code{\link{sse}}           \tab Sum of squared errors \cr
  \code{\link{autocorrel}}    \tab Cross-correlation at multiple lags \cr
  \code{\link{autopcorrel}}   \tab Partial cross-correlation at multiple lags \cr
  \code{\link{print.cor}}     \tab Pretty-print a correlation matrix \cr
  \code{\link{rank}}          \tab Rank with NA handling and quantile groups \cr
  \code{\link{dependent.rank}} \tab Rank within groups (dependent double-sort) \cr
  \code{\link{colN}}          \tab Count non-NA values per column \cr
  \code{\link{colSds}}        \tab Column standard deviations \cr
  \code{\link{rowSds}}        \tab Row standard deviations \cr
  \code{\link{tabularsummary}} \tab Frequency table with percentages
}
}

\section{Time Series}{
\tabular{ll}{
  \code{\link{chgseries}}        \tab First difference (change) \cr
  \code{\link{pchgseries}}       \tab Percent change \cr
  \code{\link{lagseries}}        \tab Lag a series (shift backward) \cr
  \code{\link{leadseries}}       \tab Lead a series (shift forward) \cr
  \code{\link{ma}}               \tab Moving average \cr
  \code{\link{compoundseries}}   \tab Rolling compounded returns \cr
  \code{\link{cumulateseries}}   \tab Cumulative sum \cr
  \code{\link{lagdataframe}}     \tab Lag columns of a data frame \cr
  \code{\link{leadlagpanel}}     \tab Lead/lag for panel data
}
}

\section{Data Manipulation}{
\tabular{ll}{
  \code{\link{subset.data.frame}} \tab Enhanced subset with informative errors \cr
  \code{\link{rename.columns}}    \tab Rename data frame columns \cr
  \code{\link{recode}}            \tab Recode values via mapping \cr
  \code{\link{doublesort}}        \tab Double-sort for portfolio formation \cr
  \code{\link{kill.useless.cols}} \tab Remove zero-variance columns \cr
  \code{\link{diffid.for.fixed.effects}} \tab Within-group demeaning
}
}

\section{Data Reshaping}{
\tabular{ll}{
  \code{\link{wide2long}}    \tab Wide to long format \cr
  \code{\link{long2wide}}    \tab Long to wide format \cr
  \code{\link{merge4seq}}    \tab Order-preserving merge \cr
  \code{\link{multimerge}}   \tab Merge a list of data frames
}
}

\section{Data Transformation}{
\tabular{ll}{
  \code{\link{normalize}}            \tab Scale to [0, 1] \cr
  \code{\link{standardize}}          \tab Z-score (mean 0, sd 1) \cr
  \code{\link{winsorize.level}}      \tab Clip at absolute bounds \cr
  \code{\link{winsorize.percentile}} \tab Clip at percentile bounds
}
}

\section{Parallel Computing}{
\tabular{ll}{
  \code{\link{mc.by}}         \tab Parallel by-group apply (via mclapply) \cr
  \code{\link{rbind.mc.by}}   \tab mc.by returning a combined data frame \cr
  \code{\link{oc.by}}         \tab Serial version of mc.by \cr
  \code{\link{rbind.oc.by}}   \tab oc.by returning a combined data frame \cr
  \code{\link{mclapply}}      \tab Wrapper for parallel::mclapply \cr
  \code{\link{mcsapply}}      \tab Simplified parallel sapply \cr
  \code{\link{mc.replicate}}  \tab Parallel replicate
}
}

\section{I/O}{
\tabular{ll}{
  \code{\link{read.csv}}   \tab Fast CSV/TSV reading (via data.table::fread) \cr
  \code{\link{write.csv}}  \tab Fast CSV writing (via data.table::fwrite) \cr
  \code{\link{locate}}     \tab Find a file on disk \cr
  \code{\link{lock}}       \tab File-based locking for parallel jobs \cr
  \code{\link{touch}}      \tab Create or update file timestamp \cr
  \code{\link{sink}}       \tab Redirect output to .Rout with timing
}
}

\section{Plotting}{
\tabular{ll}{
  \code{\link{pdf.start}}    \tab Open PDF device with sensible defaults \cr
  \code{\link{pdf.end}}      \tab Close PDF and optionally embed fonts \cr
  \code{\link{hline}}        \tab Add horizontal reference lines \cr
  \code{\link{vline}}        \tab Add vertical reference lines \cr
  \code{\link{colorblind}}   \tab Colorblind-friendly palette (8 colors) \cr
  \code{\link{MixColor}}     \tab Blend two colors \cr
  \code{\link{lambda2color}} \tab Visible wavelength to RGB \cr
  \code{\link{plot.shade.xyy}}      \tab Shade area between two curves \cr
  \code{\link{plot.loess.lineplot}} \tab Loess-smoothed scatter \cr
  \code{\link{plot.ecdf.lineplot}}  \tab Empirical CDF \cr
  \code{\link{plot.hist2d}}         \tab 2D histogram / heatmap \cr
  \code{\link{plot.contour}}        \tab Filled contour plot \cr
  \code{\link{plot.points.toomany}} \tab Density-binned scatter \cr
  \code{\link{plot.boxtext}}        \tab Text label with background box \cr
  \code{\link{plot.labelcurve}}     \tab Label a curve at a point \cr
  \code{\link{plot.timearea}}       \tab Time series area chart \cr
  \code{\link{plot.worldmap}}       \tab World map outline
}
}

\section{Date/Time}{
\tabular{ll}{
  \code{\link{epoch2yyyymmdd}}   \tab Unix epoch to YYYYMMDD integer \cr
  \code{\link{epoch2POSIXct}}    \tab Unix epoch to POSIXct \cr
  \code{\link{epoch2nyc}}        \tab Unix epoch to NYC local time \cr
  \code{\link{yyyymmdd.toggle}}  \tab Convert between YYYYMMDD and Gregorian day \cr
  \code{\link{diffdays}}         \tab Days between two dates \cr
  \code{\link{tmdiffsec}}        \tab Seconds between two POSIXct times
}
}

\section{Type Checking}{
\tabular{ll}{
  \code{\link{is.numeric}}   \tab Numeric check with length validation \cr
  \code{\link{is.character}} \tab Character check with length validation \cr
  \code{\link{is.scalar}}    \tab Single atomic value \cr
  \code{\link{is.instring}}  \tab Pattern matching (grepl wrapper)
}
}

\section{Operators}{
\tabular{ll}{
  \code{\link{\%and\%}}     \tab Perl-style logical AND (aborts on FALSE) \cr
  \code{\link{\%or\%}}      \tab Perl-style logical OR (aborts on FALSE) \cr
  \code{\link{\%inrange\%}} \tab Test if values fall within [min, max]
}
}

\section{Error Handling}{
\tabular{ll}{
  \code{\link{assert}} \tab Assert condition or abort with message \cr
  \code{\link{abort}}  \tab Stop with formatted error message
}
}

\section{Utilities}{
\tabular{ll}{
  \code{\link{msg}}              \tab Timestamped progress messages \cr
  \code{\link{chatter}}          \tab Toggle message verbosity \cr
  \code{\link{now}}              \tab Current time as formatted string \cr
  \code{\link{done}}             \tab Print completion timestamp and quit \cr
  \code{\link{runall}}           \tab Source all numbered R/Perl scripts \cr
  \code{\link{check.names}}      \tab Assert columns exist in data frame \cr
  \code{\link{require.variables}} \tab Assert variables exist in environment \cr
  \code{\link{dict.lookup}}      \tab Dictionary lookup with default \cr
  \code{\link{mkRdictionary}}    \tab Create a named-vector dictionary \cr
  \code{\link{strcat}}           \tab Concatenate strings \cr
  \code{\link{grepcolname}}      \tab Find columns matching a pattern \cr
  \code{\link{index.of.variable}} \tab Column index by name \cr
  \code{\link{nearest}}          \tab Nearest value in a sorted vector \cr
  \code{\link{which.nearest}}    \tab Index of nearest value \cr
  \code{\link{bisection}}        \tab Root finding by bisection \cr
  \code{\link{whatis}}           \tab Describe object type and dimensions \cr
  \code{\link{sprint.data.frame}} \tab Compact one-line data frame print \cr
  \code{\link{kable}}            \tab knitr::kable with LaTeX alignment \cr
  \code{\link{latex}}            \tab LaTeX table output via xtable \cr
  \code{\link{ls.objects}}       \tab List objects sorted by memory size \cr
  \code{\link{meminfo}}          \tab Current R memory usage \cr
  \code{\link{object.size.MB}}   \tab Object size in MB \cr
  \code{\link{osinfo}}           \tab OS and R version information \cr
  \code{\link{heartbeat}}        \tab Progress dots in long loops \cr
  \code{\link{beep}}             \tab System audio notification \cr
  \code{\link{instrumentR}}      \tab Add line-number tracing to R files \cr
  \code{\link{debug.on}}         \tab Enable recover() on error \cr
  \code{\link{debug.advice}}     \tab Print R debugging tips \cr
  \code{\link{enable.error.line.num}} \tab Show line numbers in errors \cr
  \code{\link{mk.random.walk}}   \tab Generate random walk series \cr
  \code{\link{rnorm.perfect}}    \tab Normal draws with exact mean/sd \cr
  \code{\link{rdraw.perfect}}    \tab Quantile-based perfect draws \cr
  \code{\link{rexp.perfect}}     \tab Exponential draws with exact mean \cr
  \code{\link{ascii}}            \tab Transliterate to ASCII \cr
  \code{\link{setupknitr}}       \tab Set default knitr chunk options \cr
  \code{\link{exit}}             \tab Quit R without saving \cr
  \code{\link{numobs.by}}        \tab Count observations per group \cr
  \code{\link{latlon.distance}}  \tab Great-circle distance between coordinates
}
}

\examples{
\dontrun{
library(iaw)

## Regression
fit <- iaw$olm(mpg ~ wt + hp, data = mtcars)
print(fit)

## Grouped computation (parallel)
iaw$rbind.mc.by(mtcars, mtcars$cyl, function(d) {
  data.frame(cyl = d$cyl[1], mean_mpg = mean(d$mpg))
})

## Statistics
iaw$covp(mtcars$wt, mtcars$mpg)   # population covariance
iaw$summary(mtcars$mpg)            # descriptive stats

## Time series
prices <- c(100, 102, 101, 105, 103)
iaw$pchgseries(prices)             # percent changes
iaw$ma(prices, 3)                  # 3-period moving average

## Operators
5 \%inrange\% c(1, 10)             # TRUE
(nrow(mtcars) > 0) \%or\% stop("empty")
}
}

\keyword{package}
