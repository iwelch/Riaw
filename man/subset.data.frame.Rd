% Generated by tools/generate-man.R -- do not edit by hand
\name{subset.data.frame}
\alias{subset.data.frame}
\title{Enhanced Subset for Data Frames}
\description{
An enhanced version of base R's \code{subset.data.frame} that provides
informative error messages when selecting undefined columns. Works with
both character vectors and non-standard evaluation (NSE) column selection.
}
\usage{
subset.data.frame(x, subset, select, drop = FALSE, ...)
}
\arguments{
  \item{x}{A data frame to subset.}
  \item{subset}{Logical expression indicating rows to keep. Evaluated in the context of \code{x}, so column names can be used directly.}
  \item{select}{Expression indicating columns to select. Can be: \itemize{ \item A character vector: \code{c("a", "b")} \item NSE column names: \code{c(a, b)} or \code{a:c} }}
  \item{drop}{Passed to \code{[.data.frame}. Default \code{FALSE}.}
  \item{...}{Additional arguments (checked but not used). }
}
\value{
A data frame containing the selected rows and columns. 
}
\details{
Unlike base \code{subset.data.frame}, this version validates column names
before subsetting and provides clear error messages listing which columns
are undefined. This catches typos and misspellings early.

To replace the base version globally, use:
\preformatted{
ns <- getNamespace("base")
unlockBinding("subset.data.frame", ns)
assign("subset.data.frame", iaw$subset.data.frame, envir = ns)
lockBinding("subset.data.frame", ns)
}

Or use \code{trace()} for a non-invasive hook.

Suggest also:
ns <- getNamespace("base")
unlockBinding("subset.data.frame", ns)
assign("subset.data.frame", iaw$subset.data.frame, envir = ns)
lockBinding("subset.data.frame", ns)

}
\seealso{
\code{\link[base]{subset.data.frame}}, \code{\link{check.names}}

Other data-manipulation: \code{\link{diffid.for.fixed.effects}}, \code{\link{doublesort}}, \code{\link{kill.useless.cols}}, \code{\link{recode}}, \code{\link{rename.columns}}
}
\examples{
d <- data.frame(a = 1:5, b = 6:10, c = 11:15)

# Basic row + column subset
iaw$subset.data.frame(d, a > 2, select = c("a", "b"))

# Row filter only (all columns kept)
iaw$subset.data.frame(d, b >= 8)

# NSE column selection works when installed as base replacement
\dontrun{
subset(d, a > 2, select = c(a, b))
subset(d, a <= 3, select = a:b)
}

# Invalid columns give informative errors
\dontrun{
iaw$subset.data.frame(d, TRUE, select = c("a", "typo"))
# Error: in `[.data.frame`(x, r, vars, drop = drop) :
#   undefined columns in 'select': typo

iaw$subset.data.frame(d, TRUE, select = c(a, typo))
# Error: in `[.data.frame`(x, r, vars, drop = drop) :
#   undefined columns in 'select': typo
}

# Select columns from a financial data set
prices <- data.frame(date = 20240101:20240105,
                     open = c(150, 152, 151, 155, 154),
                     high = c(153, 155, 154, 158, 157),
                     close = c(152, 151, 155, 154, 156))
iaw$subset.data.frame(prices, close > 153, select = c("date", "close"))

# Row filter only -- keep all columns
iaw$subset.data.frame(prices, open >= 152)

# drop = TRUE returns a vector when selecting a single column
iaw$subset.data.frame(prices, close > 155, select = "close", drop = TRUE)

}
