% Generated by tools/generate-man.R -- do not edit by hand
\name{famamacbeth}
\alias{famamacbeth}
\alias{famamacbeth.gammas}
\title{Fama-MacBeth Two-Stage Regression}
\description{
Implements Fama-MacBeth procedure for panel data.
\code{famamacbeth.gammas} runs cross-sectional regressions per time period.
\code{famamacbeth} calls \code{famamacbeth.gammas} and summarizes the
time-series distribution of coefficients.
}
\usage{
famamacbeth.gammas(formula, data, timeid = "yyyymm")
famamacbeth(formula, data, timeid = "yyyymm", printn = TRUE)
}
\arguments{
  \item{formula}{Regression formula.}
  \item{data}{Data frame with panel data.}
  \item{timeid}{Character. Column name identifying time periods (default \code{"yyyymm"}). }
  \item{printn}{Logical. Print N diagnostics (default \code{TRUE}). }
}
\value{
\code{famamacbeth.gammas} returns a data frame of per-period coefficients. 
}
\seealso{

Other regression: \code{\link{neweywest}}, \code{\link{olm}}, \code{\link{ols.nona}}, \code{\link{ooslm}}, \code{\link{print.olm}}, \code{\link{residuals}}
}
\examples{
\dontrun{
# Build a small panel: 3 stocks x 4 months
set.seed(42)
panel <- data.frame(
  yyyymm = rep(c(202001, 202002, 202003, 202004), each = 3),
  firm   = rep(c("A", "B", "C"), times = 4),
  ret    = rnorm(12, mean = 0.01, sd = 0.05),
  beta   = rnorm(12, mean = 1, sd = 0.3),
  size   = rnorm(12, mean = 5, sd = 1)
)

# Run full Fama-MacBeth: cross-sectional regressions each month,
# then summarize time-series of gammas
iaw$famamacbeth(ret ~ beta + size, data = panel)

# Get the per-period gammas directly
gs <- iaw$famamacbeth.gammas(ret ~ beta + size, data = panel)
gs

# Single-factor CAPM-style Fama-MacBeth test
set.seed(7)
capm <- data.frame(
  yyyymm = rep(201901:201912, each = 10),
  stock  = rep(1:10, 12),
  excess_ret = rnorm(120, 0.005, 0.04),
  mkt_beta   = runif(120, 0.5, 1.5)
)
iaw$famamacbeth(excess_ret ~ mkt_beta, data = capm)

# Three-factor model with custom time identifier
set.seed(99)
ff3 <- data.frame(
  qtr   = rep(1:8, each = 20),
  firm  = rep(1:20, 8),
  ret   = rnorm(160, 0.02, 0.06),
  mkt   = rnorm(160, 1, 0.3),
  smb   = rnorm(160, 0, 0.2),
  hml   = rnorm(160, 0, 0.2)
)
iaw$famamacbeth(ret ~ mkt + smb + hml, data = ff3, timeid = "qtr")
}
}
