% Generated by tools/generate-man.R -- do not edit by hand
\name{neweywest}
\alias{neweywest}
\title{Newey-West Standard Errors}
\description{
Wrapper for sandwich::NeweyWest.
}
\usage{
neweywest(model, lag = 0)
}
\arguments{
  \item{model}{Linear model object.}
  \item{lag}{Number of lags. }
}
\value{
Covariance matrix. 
}
\seealso{

Other regression: \code{\link{famamacbeth}}, \code{\link{olm}}, \code{\link{ols.nona}}, \code{\link{ooslm}}, \code{\link{print.olm}}, \code{\link{residuals}}
}
\examples{
\dontrun{
# Compute Newey-West covariance matrix for a simple regression
df <- data.frame(y = cumsum(rnorm(30)), x = cumsum(rnorm(30)))
fit <- lm(y ~ x, data = df)
vcov_nw <- iaw$neweywest(fit, lag = 2)
sqrt(diag(vcov_nw))  # Newey-West standard errors

# lag = 0 gives heteroskedasticity-consistent (HC) SEs
vcov_hc <- iaw$neweywest(fit, lag = 0)
sqrt(diag(vcov_hc))

# Compare OLS vs Newey-West standard errors for autocorrelated residuals
set.seed(1)
n <- 100
x <- rnorm(n)
e <- filter(rnorm(n), 0.8, method = "recursive")  # AR(1) errors
y <- 1 + 2 * x + e
fit2 <- lm(y ~ x)
se_ols <- sqrt(diag(vcov(fit2)))        # naive SEs
se_nw  <- sqrt(diag(iaw$neweywest(fit2, lag = 4)))  # HAC SEs
se_nw / se_ols  # ratio > 1 indicates underestimated OLS SEs

# Use floor(n^(1/3)) as a rule-of-thumb lag selection
nobs <- nobs(fit2)
auto_lag <- floor(nobs^(1/3))
iaw$neweywest(fit2, lag = auto_lag)

}
}
